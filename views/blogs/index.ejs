<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: Arial, sans-serif;
            /* Change to your preferred font family */
        }

        .blog-title {
            font-size: 1.75rem;
            /* Increase font size */
            text-decoration: none;
            /* Remove underline */
            color: #007bff;
            /* Bootstrap link color */
        }

        .blog-title:hover {
            text-decoration: underline;
            /* Underline on hover for better UX */
        }

        .meta-info {
            font-size: 0.875rem;
            /* Smaller font size for meta info */
            color: #6c757d;
            /* Bootstrap muted color */
        }

        .category {
            color: #de7c5d; /* Change this to the color you prefer for categories */
            font-weight: bold; /* Make the category text bold */
        }

        .blogs-container {
            background-color: #f2f2f2;
            /* Light gray background for the blogs section */
            padding: 3rem;
            /* Padding for the container */
            border-radius: 10px;
            /* Rounded corners */
            margin-bottom: 20px;
            /* Space below the blogs section */
        }

        /* Media query for smaller screens */
        @media (max-width: 768px) {
            .blogs-container {
                padding: 0.3rem; /* Reduce padding for smaller screens */
                margin-bottom: 15px; /* Adjust margin if necessary */
            }
        }
    </style>
</head>

<body class="p-5">

    <div class="container">
        <h1 class="text-center m-4">Welcome to Your Blogging Journey!</h1>

        <div class="blogs-container"> <!-- New container for blogs -->
            <ul class="list-group">
                <% for (let blog of blogs) { %>
                    <li class="list-group-item m-3">
                        <h5 class="mb-1">
                            <a href="/blogs/<%= blog._id %>" class="blog-title">
                                <%= blog.title %>
                            </a>
                        </h5>
                        <p class="meta-info mb-1">
                            <%= blog.createdAt.toLocaleString('default', { month: 'short' }) %>
                            <%= blog.createdAt.getDate() %>, <%= blog.createdAt.getFullYear() %> |
                            <strong class="category">
                                <%= blog.category || "Uncategorized" %>
                            </strong>
                        </p>
                        <p class="mb-1">
                            <% if (blog.content.split(" ").length > 50) { %>
                                <%= blog.content.split(" ").slice(0, 50).join(" ") %>... 
                                <a href="/blogs/<%= blog._id %>">Read more</a>
                            <% } else { %>
                                <%= blog.content %>
                            <% } %>
                        </p>
                        <small class="text-muted">Views: <%= blog.views %></small>
                        <div class="mt-2">
                            <strong>Tags:</strong> 
                            <% if (blog.tags.length > 0) { %>
                                <% blog.tags.forEach(tag => { %>
                                    <span class="badge bg-secondary me-1"><%= tag %></span>
                                <% }); %>
                            <% } else { %>
                                <span class="text-muted">No tags</span> <!-- This will display if there are no tags -->
                            <% } %>
                        </div>
                    </li>
                <% } %>
            </ul>
        </div>

    </div>

</body>

</html>